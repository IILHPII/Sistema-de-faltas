package configuration;

import java.sql.Connection;
import java.sql.Driver;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class Conexion extends Persona {

	
		public Conexion(String user, String password) throws SQLException{
		super(user, password);
		conexionUsuarios();
		}
		
		private String url="jdbc:mysql//localhost/registro".concat("root".concat("Hernandez430785!"));
		
		
		public String conexionUsuarios() throws SQLException {
			boolean confirmacion = false;
			try {
				Connection conexion=DriverManager.getConnection(url);
				Statement comando=conexion.createStatement();
				ResultSet consulta=comando.executeQuery("SELECT cedula, password, `type` "
						+ "FROM registro.personas where cedula='"+getUser()+"' and password='"+getPassword()+"'");
				if(consulta.next()==true) {
					confirmacion=true;
				}else {
					confirmacion=false;
				}	
			}catch(SQLException ex) {
				System.out.println("No se ha logrado la conexion.");
			}
				
			String hola="Es: "+confirmacion;
			
			return hola;	
		}

		
		
									
}
